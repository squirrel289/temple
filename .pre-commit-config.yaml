---
repos:
  - repo: local
    hooks:
      - id: lint-shell
        name: "lint: shell (bash -n)"
        entry: scripts/pre-commit/lint-shell.sh
        language: system
        pass_filenames: false
        stages: [pre-push]

      - id: lint-yaml
        name: "lint: yaml (yamllint)"
        entry: scripts/pre-commit/lint-yaml.sh
        language: system
        pass_filenames: false

      - id: lint-python
        name: "lint: python"
        entry: scripts/pre-commit/lint-python.sh
        language: system
        types: [python]

      - id: lint-js
        name: "lint: js/ts (ESLint)"
        entry: scripts/pre-commit/lint-js.sh
        language: system
        pass_filenames: false
        files: ^vscode-temple-linter/src/.*\.ts$

      - id: secure-secrets-scan
        name: "secure: secrets scan"
        # Wrapper runs scan + compare (ensures compare logic identical to CI).
        entry: scripts/pre-commit/secure-find-secrets.sh
        language: system
        pass_filenames: false

      - id: test-python-affected
        name: "test: python affected"
        entry: scripts/pre-commit/test-python.sh
        language: system
        pass_filenames: true
        types: [python]

      - id: validate-benchmarks
        name: "validate: benchmarks quick"
        entry: scripts/pre-commit/validate-benchmarks.sh
        language: system
        pass_filenames: false
        stages: [pre-push]

      - id: build-docs
        name: "build: docs (pre-push)"
        entry: scripts/pre-commit/build-docs.sh
        language: system
        pass_filenames: false
        stages: [pre-push]

  # Official detect-secrets hook intentionally removed in favor of the
  # `secure-secrets-scan` wrapper defined above. The wrapper provides
  # repository-specific filtering and comparison logic to match CI.
